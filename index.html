<!doctype html>
<html>
    <head>
        <script src="node_modules/socket.io-client/dist/socket.io.js"></script>
        <script src="tuioManager.js"></script>
    </head>
    <body>
    </body>
    <script>
        var mousedown = false;
        var dom1 = document.createElement("img");
        dom1.src = "FoodPorn/IMG_20150304_201145.jpg";
        dom1.style.width = "500px";
        dom1.style.height = "666px";
        dom1.style.position="absolute";
        dom1.ondragstart=function(){return false;};

        document.body.appendChild(dom1);

        //console.log(dom1.getBoundingClientRect());

        var testCall = function(domElem, e){
            console.log(e.x);
            domElem.style.top=e.y+"px";
            domElem.style.left=e.x+"px";
        }

        var tuioW1 = new TUIOWidget(dom1, 8, 8, 500, 666, testCall, testCall);
        document.body.addEventListener("mousedown",function(e){
            console.log(tuioW1.isTouched(e.clientX,e.clientY));
            var socketData={
               type:"touch",
               id:1234,
               x:e.clientX,
               y:e.clientY
           };
            createTUIO(socketData);
            mousedown = true;
        });
        document.body.addEventListener("mousemove",function(e){
           if (mousedown===true){
               console.log("mousemove");
               var socketData={
               type:"touch",
               id:1234,
               x:e.clientX,
               y:e.clientY
                };
               updateTUIO(socketData);
           } 
        });
        document.body.addEventListener("mouseup",function(e){
           mousedown=false; 
        });



    </script>
</html>